# HCV RAG Clinical Assistant

This repository contains a Retrieval-Augmented Generation (RAG) system for answering
clinical questions using Hepatitis C Virus (HCV) treatment guidelines. The system
extracts text from guideline PDFs, creates an index over the text, and uses a
language model to generate answers based on the most relevant guideline chunks.

## Features

- Uses PDF guideline documents as the knowledge source
- Cleans and splits guideline text into smaller chunks
- Builds a FAISS index with SentenceTransformer embeddings
- Generates answers using a FLAN-T5 model
- Provides a simple Gradio web interface for asking questions
- Includes an evaluation setup using a CSV of questions and reference answers

## Project Structure

- `HCV_RAG.ipynb` – Main notebook with the full pipeline (data processing, indexing, RAG, Gradio, evaluation)
- `eval_questions.csv` – CSV file with evaluation questions and reference answers
- `data/` – Folder for input data
  - `data/guidelines/` – Place your HCV guideline PDF files here
- `artifacts/` – Folder where generated artifacts are saved (chunks, embeddings, FAISS index, etc.)
- `outputs/` – Folder where evaluation outputs and generated results are saved
- `requirements.txt` – List of Python packages needed to run the project
- `README.md` – Project documentation (this file)

Note: The `artifacts/` and `outputs/` folders are generated by the notebook and
are usually not committed to Git. PDF guideline files may also be excluded
depending on licensing.

## Installation and Setup

1. Clone this repository:

   git clone https://github.com/<your-username>/HCV-RAG-Clinical-Assistant.git
   cd HCV-RAG-Clinical-Assistant

2. (Optional but recommended) Create and activate a virtual environment:

   python -m venv .venv
   # On macOS / Linux:
   source .venv/bin/activate
   # On Windows (Command Prompt):
   .venv\Scripts\activate

3. Install the required Python packages:

   pip install -r requirements.txt

4. Add the HCV guideline PDF files to the following folder:

   data/guidelines/

## How to Run the Notebook

1. Start Jupyter Notebook:

2. In the Jupyter interface, open the file:

   HCV_RAG.ipynb

3. Run the cells in order. The notebook will:

   - Read the guideline PDFs
   - Clean and chunk the text
   - Create or load the FAISS index
   - Load the embedding and generation models
   - Provide a Gradio interface to ask clinical questions

When the Gradio app cell runs successfully, it will show a link. Click the link
to open the web interface in your browser and try asking questions.

## Evaluation

The notebook can also evaluate the system using `eval_questions.csv`. It can
compute scores such as BLEU, ROUGE, semantic similarity, and NLI-based
groundedness. Evaluation outputs are typically saved in the `outputs/` folder.

## Models and Tools Used

- SentenceTransformers for text embeddings
- FAISS for similarity search over embeddings
- FLAN-T5 (e.g., `flan-t5-base` or `flan-t5-large`) for answer generation
- PyMuPDF for PDF text extraction
- Gradio for the web interface
- Common NLP libraries for evaluation metrics

## Notes

- This project is intended for educational and research purposes.
- Make sure you have permission to use and distribute any PDF guideline documents you add to `data/guidelines/`.
